{"ast":null,"code":"var _jsxFileName = \"/Users/waltorhuang/cookbook/javascript/aries-financial-web/src/widgets/farmingClock.jsx\";\nimport { useState } from \"react\";\nimport * as React from 'react';\nimport moment from \"moment-timezone\";\nimport \"./farmingClock.sass\";\nimport i18next from \"i18next\";\n/**\n * About the moment.js with time zone usage, please see https://momentjs.com/timezone/docs/\n */\n\nconst timeZone = \"Etc/GMT0\";\n\nconst getRemainingTimeOfClaimReward = text => {\n  const _moment = moment.tz.setDefault(timeZone);\n\n  const start = _moment().weekday(0);\n\n  const diffDay = _moment().endOf('w').diff(_moment().endOf('d'), \"d\");\n\n  const diffHour = _moment().weekday(0).endOf('d').diff(start, \"h\");\n\n  const diffMinutes = _moment().weekday(0).endOf('h').diff(start, \"m\");\n\n  const diffSecond = _moment().weekday(0).endOf('m').diff(start, \"s\");\n\n  const diffMinSecond = _moment().weekday(0).endOf('s').diff(start, \"ms\");\n\n  const result = `${diffDay} days ${diffHour}:${diffMinutes}:${diffSecond}.${diffMinSecond}`; // console.log(_moment.tz.names(), \"All time zone ==\");\n  // console.log(result, \"result - timer ==\");\n  // console.log(_moment().toString(), \"timer ==\");\n  // console.log(_moment().weekday(0).toString(), \"timer ==\");\n  // console.log(_moment().tz(), \"timer ==\");\n  // console.log(_moment().endOf('w').toString(), \"timer ==\");\n  // console.log(_moment().endOf('d').toString(), \"timer ==\");\n\n  return _moment().weekday() === 0 ? text : result;\n};\n\nconst FarmingClock = prop => {\n  const [uiState, setUiState] = useState(getRemainingTimeOfClaimReward());\n  setTimeout(() => {\n    setUiState(getRemainingTimeOfClaimReward(prop.text));\n  }, 1);\n\n  const openUrl = () => {\n    window.open(\"https://app.uniswap.org/#/swap?inputCurrency=0x68e8a20128e1902c02f533a02ed0cfd8396e3fbc&outputCurrency=0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48\", \"_blank\");\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"FarmingClock\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"space\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, i18next.t(\"FarmingClock-Text-1\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"space\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"timer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, uiState), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"space\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: `Button`,\n    onClick: () => openUrl(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, i18next.t(\"FarmingClock-Text-2\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"space\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }));\n};\n\nexport default FarmingClock;","map":{"version":3,"sources":["/Users/waltorhuang/cookbook/javascript/aries-financial-web/src/widgets/farmingClock.jsx"],"names":["useState","React","moment","i18next","timeZone","getRemainingTimeOfClaimReward","text","_moment","tz","setDefault","start","weekday","diffDay","endOf","diff","diffHour","diffMinutes","diffSecond","diffMinSecond","result","FarmingClock","prop","uiState","setUiState","setTimeout","openUrl","window","open","t"],"mappings":"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","sourcesContent":["import {useState} from \"react\";\nimport * as React from 'react';\nimport moment from \"moment-timezone\";\nimport \"./farmingClock.sass\";\nimport i18next from \"i18next\";\n\n/**\n * About the moment.js with time zone usage, please see https://momentjs.com/timezone/docs/\n */\nconst timeZone = \"Etc/GMT0\";\nconst getRemainingTimeOfClaimReward = (text) => {\n    const _moment = moment.tz.setDefault(timeZone);\n    const start = _moment().weekday(0);\n\n    const diffDay = _moment().endOf('w').diff(_moment().endOf('d'), \"d\");\n    const diffHour = _moment().weekday(0).endOf('d').diff(start, \"h\");\n    const diffMinutes = _moment().weekday(0).endOf('h').diff(start, \"m\");\n    const diffSecond = _moment().weekday(0).endOf('m').diff(start, \"s\");\n    const diffMinSecond = _moment().weekday(0).endOf('s').diff(start, \"ms\");\n    const result = `${diffDay} days ${diffHour}:${diffMinutes}:${diffSecond}.${diffMinSecond}`;\n    // console.log(_moment.tz.names(), \"All time zone ==\");\n    // console.log(result, \"result - timer ==\");\n    // console.log(_moment().toString(), \"timer ==\");\n    // console.log(_moment().weekday(0).toString(), \"timer ==\");\n    // console.log(_moment().tz(), \"timer ==\");\n    // console.log(_moment().endOf('w').toString(), \"timer ==\");\n    // console.log(_moment().endOf('d').toString(), \"timer ==\");\n    return (_moment().weekday() === 0) ? text : result;\n};\n\nconst FarmingClock = (prop) => {\n    const [uiState, setUiState] = useState(getRemainingTimeOfClaimReward());\n\n    setTimeout(()=> {\n        setUiState(getRemainingTimeOfClaimReward(prop.text));\n    }, 1);\n\n    const openUrl = () => {\n        window.open(\"https://app.uniswap.org/#/swap?inputCurrency=0x68e8a20128e1902c02f533a02ed0cfd8396e3fbc&outputCurrency=0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48\", \"_blank\")\n    };\n\n    return <div id={\"FarmingClock\"}>\n        <div className={\"space\"}/>\n        <div className={\"title\"}>{i18next.t(\"FarmingClock-Text-1\")}</div>\n        <div className={\"space\"}/>\n        <div className={\"timer\"}>{uiState}</div>\n        <div className={\"space\"}/>\n        <div className={`Button`} onClick={() => openUrl()}>{i18next.t(\"FarmingClock-Text-2\")}</div>\n        <div className={\"space\"}/>\n    </div>;\n};\n\nexport default FarmingClock;"]},"metadata":{},"sourceType":"module"}